ئورد بتشدبي، معلوقاب من مكون.بتشدبي؛
ئورد الئان من تاريخ؛
ئورد الكل ك سياق من سياق؛
ئورد مجال من ئساسية.مصفوفة؛
ئورد الكل ك رياضيات من ئساسية.رياضيات؛
ئورد نتجقاب من بتشدبي؛

ئورد مختطمشروع من صنفمجال.مشروع؛
ئورد مختطوحدة من صنفمجال.وحدة؛
ئورد مختطبطاقة من صنفمجال.بطاقة؛

ئورد الكل ك مجالمشروع من صنفمجال.مشروع؛

ئعلن قابمحلي ك بتشدبي؛

ئعلن هلقاعدب () ك وعد منطق:
	ئدا ليس قابمحلي:
		قابمحلي = بتشدبي(سياق.ئسمقاب)؛
	تم
	مختطمشروع مشرو = ريتما مجالمشروع.ردمشروعحالي(قابمحلي)؛
	ئرجع مشرو لا= عدم؛
تم

ئعلن ئستبدئقاب () ك وعد:
	ئدا ليس قابمحلي:
		قابمحلي = بتشدبي(سياق.ئسمقاب)؛
	تم
	#يحدف جميع الجدولين
	ريتما قابمحلي.ئهدم()؛
	#ينشئ قاب جديد
	قابمحلي = بتشدبي(سياق.ئسمقاب)؛
	#ئرسائ الفهرسين
	ريتما قابمحلي.خدفهرس(
		حقلين: ["نوع"، "وحدة"]
	)؛
	ريتما قابمحلي.خدفهرس(
		حقلين: ["نوع"]
	)؛
تم

ئعلن ئستبدئمشروع(مختطمشروع مشروع، مختطوحدة[] وحدات، مختطبطاقة[] بطاقات، منطق هلمستودعفارغ) ك وعد:
	# ئدا كان المستودع فارغ، لا نحددت تاريخ ئيداع المشروع كي يتم ئيداع البطاقات الئفتراضية
	ئدا ليس هلمستودعفارغ:
		مشروع.ئاخرئيداع = الئان()؛
		مشروع.ئاخرتعديل = الئان()؛
	تم
	ريتما قابمحلي.خدواحد(مشروع)؛
	ريتما قابمحلي.خدعديد(وحدات)؛
	ريتما قابمحلي.خدعديد(بطاقات)؛
	ريتما مجالمشروع.ردمشروعحالي(قابمحلي)؛
تم
