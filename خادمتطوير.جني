ئورد decodeURI من '//'؛

ئورد ئساسية.عاملخدمة؛
ئورد ئساسية.جواب؛
ئورد ئساسية.ترويسة؛

ئورد مكون.بتشدبي؛

ئعلن خادمتطوير ():
	يمدد عاملخدمة()؛
	هدا.ئستبدئ()؛
تم

ئعلن خادمتطوير.تببت ():
	قل 'تتبيت خادم'؛
تم

ئعلن ردجوابئسكربت (نصية ئسملف) ك وعد جواب:
	بتشدبي بتش = بتشدبي('jinnibin')؛
	مركب {نصية _معرف، نصية content} ملف = ريتما بتش.ئجلب(ئسملف)؛
	ئدا ليس ملف:
		قل ئسملف؛
		قل ملف؛
	وئلا:
		ئرجع جواب (
			محتوا: ملف['content']،
			ترويسات: [ترويسة('يرجع'، 'جافاسكربت')]
		)؛
	تم
تم

ئعلن خادمتطوير.ئجلب (ح):
	نصية رابط = decodeURI(ح.request.url)؛
	ئدا رابط.يتضمن('/ئختبر'):
		ئدا رابط.ينتهيب('.mjs'):
			#يقرئ محتوا الملف المطلوب من القاعدب
			نصية[] مقسم = رابط.قسسم('/')؛
			نصية ئسملف = مقسم[مقسم.طول-1]؛
			جواب جو = ردجوابئسكربت(ئسملف)؛
			ح['waitUntil'](جو)؛
			ح['respondWith'](جو)؛
		وئلا ئدا رابط.ينتهيب('/رئيسية'):
			ح['respondWith'](جواب (
				محتوا: (
					<html lang="ar" dir="rtl" صنف="ط-كامل">
						<رئس>
							<ميطا charset="utf-8"></ميطا>
							<عنوان>جني</عنوان>
							<ميطا name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"></ميطا>
							<script type="module">
								import "/ئختبر/مرحباجني.mjs"
							</script>
						</رئس>
						<جسم صنف="ط-كامل تصفير">
						
						</جسم>
					</html>
				)، 
				ترويسات: [ترويسة('يرجع'، 'ئشتمل')]
			))؛
		تم
	وئلا:
		ئرجع؛
	تم
تم

ئعلن خادمتطوير.نششط ():
	قل 'تنشيط خادم'؛
تم

ئعلن مدخل ():
	خادمتطوير()؛
تم

